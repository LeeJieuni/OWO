{"ast":null,"code":"import html2canvas from 'html2canvas';\nimport { mapMutations } from 'vuex';\nimport AfterExerciseModal from './AfterExerciseModal.vue';\nimport RoomSetting from './RoomSetting.vue';\nconst meetingroom = 'meetingroom';\nexport default {\n  components: {\n    AfterExerciseModal,\n    RoomSetting\n  },\n\n  data() {\n    return {\n      // input: '',\n      // search: '',\n      isMaster: true,\n      video: false,\n      mic: false,\n      timer: 3,\n      temp_timer: 3,\n      take_photo_timer: null,\n      is_take_photo: false,\n      pictures: [] // emoji_h: document.getElementById('emoji_btn').top,\n\n    };\n  },\n\n  setup() {},\n\n  created() {},\n\n  moundted() {},\n\n  unmounted() {},\n\n  methods: { ...mapMutations(meetingroom, ['SET_CAMERA', 'SET_MIC']),\n\n    mic_on() {\n      this.mic = true;\n      this.SET_MIC(false);\n    },\n\n    mic_off() {\n      this.mic = false;\n      this.SET_MIC(true);\n    },\n\n    video_on() {\n      this.video = true;\n      this.SET_CAMERA(false);\n    },\n\n    video_off() {\n      this.video = false;\n      this.SET_CAMERA(true);\n    },\n\n    take_photo() {\n      this.temp_timer = this.timer;\n      this.is_take_photo = true;\n      this.take_photo_timer = setInterval(() => {\n        this.timer -= 1;\n        console.log(this.timer);\n\n        if (this.timer === 0) {\n          console.log('사진찍는 모션');\n          const el = document.querySelector('#take_photo_WebRTC');\n          html2canvas(el).then(canvas => {\n            // document.body.appendChild(canvas);\n            const link = document.createElement('a');\n            document.body.appendChild(link);\n            link.href = canvas.toDataURL('image/jpeg');\n            localStorage.setItem('userImage', link); // link.download = '안녕하세요?.jpg';\n\n            link.click();\n            document.body.removeChild(link);\n          });\n          clearInterval(this.take_photo_timer);\n          this.is_take_photo = false;\n          this.timer = this.temp_timer;\n        }\n      }, 1000);\n    },\n\n    set_timer_3() {\n      this.timer = 3;\n      console.log(this.timer);\n    },\n\n    set_timer_5() {\n      this.timer = 5;\n      console.log(this.timer);\n    },\n\n    set_timer_10() {\n      this.timer = 10;\n      console.log(this.timer);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA4CA,OAAOA,WAAP,MAAwB,aAAxB;AACA,SAASC,YAAT,QAA6B,MAA7B;AACA,OAAOC,kBAAP,MAA+B,0BAA/B;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AAEA,MAAMC,WAAU,GAAI,aAApB;AAEA,eAAe;EACbC,UAAU,EAAE;IACVH,kBADU;IAEVC;EAFU,CADC;;EAKbG,IAAI,GAAG;IACL,OAAO;MACL;MACA;MACAC,QAAQ,EAAE,IAHL;MAILC,KAAK,EAAE,KAJF;MAKLC,GAAG,EAAE,KALA;MAMLC,KAAK,EAAE,CANF;MAOLC,UAAU,EAAE,CAPP;MAQLC,gBAAgB,EAAE,IARb;MASLC,aAAa,EAAE,KATV;MAULC,QAAQ,EAAE,EAVL,CAWL;;IAXK,CAAP;EAaD,CAnBY;;EAoBbC,KAAK,GAAG,CAAE,CApBG;;EAqBbC,OAAO,GAAG,CAAE,CArBC;;EAsBbC,QAAQ,GAAG,CACV,CAvBY;;EAwBbC,SAAS,GAAG,CAAE,CAxBD;;EAyBbC,OAAO,EAAE,EACP,GAAGlB,YAAY,CAACG,WAAD,EAAc,CAAC,YAAD,EAAe,SAAf,CAAd,CADR;;IAEPgB,MAAM,GAAG;MACP,KAAKX,GAAL,GAAW,IAAX;MACA,KAAKY,OAAL,CAAa,KAAb;IACD,CALM;;IAMPC,OAAO,GAAG;MACR,KAAKb,GAAL,GAAW,KAAX;MACA,KAAKY,OAAL,CAAa,IAAb;IACD,CATM;;IAUPE,QAAQ,GAAG;MACT,KAAKf,KAAL,GAAa,IAAb;MACA,KAAKgB,UAAL,CAAgB,KAAhB;IACD,CAbM;;IAcPC,SAAS,GAAG;MACV,KAAKjB,KAAL,GAAa,KAAb;MACA,KAAKgB,UAAL,CAAgB,IAAhB;IACD,CAjBM;;IAkBPE,UAAU,GAAG;MACX,KAAKf,UAAL,GAAkB,KAAKD,KAAvB;MACA,KAAKG,aAAL,GAAqB,IAArB;MACA,KAAKD,gBAAL,GAAwBe,WAAW,CAAC,MAAM;QACxC,KAAKjB,KAAL,IAAc,CAAd;QACAkB,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAjB;;QACA,IAAI,KAAKA,KAAL,KAAe,CAAnB,EAAsB;UACpBkB,OAAO,CAACC,GAAR,CAAY,SAAZ;UACA,MAAMC,EAAC,GAAIC,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,CAAX;UACAhC,WAAW,CAAC8B,EAAD,CAAX,CAAgBG,IAAhB,CAAsBC,MAAD,IAAY;YAC/B;YACA,MAAMC,IAAG,GAAIJ,QAAQ,CAACK,aAAT,CAAuB,GAAvB,CAAb;YACAL,QAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BH,IAA1B;YACAA,IAAI,CAACI,IAAL,GAAYL,MAAM,CAACM,SAAP,CAAiB,YAAjB,CAAZ;YACAC,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCP,IAAlC,EAL+B,CAM/B;;YACAA,IAAI,CAACQ,KAAL;YACAZ,QAAQ,CAACM,IAAT,CAAcO,WAAd,CAA0BT,IAA1B;UACD,CATD;UAUAU,aAAa,CAAC,KAAKjC,gBAAN,CAAb;UACA,KAAKC,aAAL,GAAqB,KAArB;UACA,KAAKH,KAAL,GAAa,KAAKC,UAAlB;QACF;MACD,CApBkC,EAoBhC,IApBgC,CAAnC;IAqBD,CA1CM;;IA2CPmC,WAAW,GAAG;MACZ,KAAKpC,KAAL,GAAa,CAAb;MACAkB,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAjB;IACD,CA9CM;;IA+CPqC,WAAW,GAAG;MACZ,KAAKrC,KAAL,GAAa,CAAb;MACAkB,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAjB;IACD,CAlDM;;IAmDPsC,YAAY,GAAG;MACb,KAAKtC,KAAL,GAAa,EAAb;MACAkB,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAjB;IACD;;EAtDM;AAzBI,CAAf","names":["html2canvas","mapMutations","AfterExerciseModal","RoomSetting","meetingroom","components","data","isMaster","video","mic","timer","temp_timer","take_photo_timer","is_take_photo","pictures","setup","created","moundted","unmounted","methods","mic_on","SET_MIC","mic_off","video_on","SET_CAMERA","video_off","take_photo","setInterval","console","log","el","document","querySelector","then","canvas","link","createElement","body","appendChild","href","toDataURL","localStorage","setItem","click","removeChild","clearInterval","set_timer_3","set_timer_5","set_timer_10"],"sourceRoot":"","sources":["C:\\Users\\multicampus\\Desktop\\새 폴더2\\S07P12C202\\frontend\\owo\\src\\components\\Room\\RoomButton.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"d-flex justify-content-center\">\n      <div class=\"d-flex justify-content-start align-items-center\">\n        <button class=\"btn btn-outline-secondary m-2 \" style=\"width:145px;\"\n        @click=\"mic_off\" v-if=\"mic\">\n          <img class=\"menu_icon\" src=\"@/assets/icon/mic_off.png\" alt=\"mic_on\">음소거 해제\n        </button>\n        <button class=\"btn btn-outline-secondary m-2 \" style=\"width:145px;\"\n        @click=\"mic_on\" v-if=\"!mic\">\n          <img class=\"menu_icon\" src=\"@/assets/icon/mic_on.png\" alt=\"mic_off\">음소거\n        </button>\n        <button class=\"btn btn-outline-secondary m-2\" style=\"width:145px;\"\n        @click=\"video_off\" v-if=\"video\">\n          <img class=\"menu_icon\" src=\"@/assets/icon/video_off.png\" alt=\"video_on\">비디오 시작\n        </button>\n        <button class=\"btn btn-outline-secondary m-2\" style=\"width:145px;\"\n          @click=\"video_on\" v-if=\"!video\">\n          <img class=\"menu_icon\" src=\"@/assets/icon/video_on.png\" alt=\"video_off\">비디오 중지\n        </button>\n        <div class=\"m-2\">\n          <b-dropdown split @click=\"take_photo\" variant=\"outline-secondary\">\n            <template #button-content >\n              <img class=\"menu_icon\" src=\"@/assets/icon/photo.png\" alt=\"photo\">&ensp;사진촬영\n            </template>\n            <b-dropdown-item :value=\"timer\" @click=\"set_timer_3\">3초</b-dropdown-item>\n            <b-dropdown-item :value=\"timer\" @click=\"set_timer_5\">5초</b-dropdown-item>\n            <b-dropdown-item :value=\"timer\" @click=\"set_timer_10\">10초</b-dropdown-item>\n          </b-dropdown>\n        </div>\n        <RoomSetting></RoomSetting>\n        <AfterExerciseModal/>\n      </div>\n      <div class=\"d-flex justify-content-center align-items-center text-white\"\n      v-if=\"is_take_photo\" id=\"take_photo_background\"></div>\n      <div class=\"d-flex justify-content-center align-items-center text-white\"\n      v-if=\"is_take_photo\" id=\"take_photo_WebRTC\">안녕하세요?</div>\n      <div class=\"d-flex justify-content-center align-items-center text-white mt-4\"\n      v-if=\"is_take_photo\" id=\"take_photo_timer\">{{ timer }}</div>\n    </div>\n    <div v-for=\"(picture, index) in pictures\" :key=index><img :src=\"picture\" alt=\"\"></div>\n  </div>\n</template>\n<script>\nimport html2canvas from 'html2canvas';\nimport { mapMutations } from 'vuex';\nimport AfterExerciseModal from './AfterExerciseModal.vue';\nimport RoomSetting from './RoomSetting.vue';\n\nconst meetingroom = 'meetingroom';\n\nexport default {\n  components: {\n    AfterExerciseModal,\n    RoomSetting,\n  },\n  data() {\n    return {\n      // input: '',\n      // search: '',\n      isMaster: true,\n      video: false,\n      mic: false,\n      timer: 3,\n      temp_timer: 3,\n      take_photo_timer: null,\n      is_take_photo: false,\n      pictures: [],\n      // emoji_h: document.getElementById('emoji_btn').top,\n    };\n  },\n  setup() {},\n  created() {},\n  moundted() {\n  },\n  unmounted() {},\n  methods: {\n    ...mapMutations(meetingroom, ['SET_CAMERA', 'SET_MIC']),\n    mic_on() {\n      this.mic = true;\n      this.SET_MIC(false);\n    },\n    mic_off() {\n      this.mic = false;\n      this.SET_MIC(true);\n    },\n    video_on() {\n      this.video = true;\n      this.SET_CAMERA(false);\n    },\n    video_off() {\n      this.video = false;\n      this.SET_CAMERA(true);\n    },\n    take_photo() {\n      this.temp_timer = this.timer;\n      this.is_take_photo = true;\n      this.take_photo_timer = setInterval(() => {\n        this.timer -= 1;\n        console.log(this.timer);\n        if (this.timer === 0) {\n          console.log('사진찍는 모션');\n          const el = document.querySelector('#take_photo_WebRTC');\n          html2canvas(el).then((canvas) => {\n            // document.body.appendChild(canvas);\n            const link = document.createElement('a');\n            document.body.appendChild(link);\n            link.href = canvas.toDataURL('image/jpeg');\n            localStorage.setItem('userImage', link);\n            // link.download = '안녕하세요?.jpg';\n            link.click();\n            document.body.removeChild(link);\n          });\n          clearInterval(this.take_photo_timer);\n          this.is_take_photo = false;\n          this.timer = this.temp_timer;\n        }\n      }, 1000);\n    },\n    set_timer_3() {\n      this.timer = 3;\n      console.log(this.timer);\n    },\n    set_timer_5() {\n      this.timer = 5;\n      console.log(this.timer);\n    },\n    set_timer_10() {\n      this.timer = 10;\n      console.log(this.timer);\n    },\n  },\n};\n</script>\n<style scoped>\n.Emoji {\n  position:fixed;\n  top:0px;\n  left:0px;\n  z-index: 103;\n}\n.menu_icon {\n    width:30px;\n}\n\n.menu_icon3 {\n    width:15px;\n}\n\n#take_photo_background {\n    background-color: gray;\n    position: fixed;\n    overflow: hidden;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 99;\n    opacity: 0.5;\n    font-size:300px;\n}\n\n#take_photo_WebRTC {\n    border: 1px solid black;\n    background-color: darkgray;\n    position: fixed;\n    top: 10%;\n    left: 20%;\n    width: 60%;\n    height: 80%;\n    z-index: 100;\n}\n\n#take_photo_timer {\n    position:fixed;\n    top: 0%;\n    left: 0%;\n    width: 100%;\n    height: 100%;\n    z-index: 101;\n    font-size:300px;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module"}