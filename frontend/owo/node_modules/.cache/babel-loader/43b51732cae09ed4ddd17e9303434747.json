{"ast":null,"code":"import axios from 'axios'; // eslint-disable-next-line\n\nexport const mainpage = {\n  namespaced: true,\n  state: () => ({\n    userImg: '',\n    rankingList: null,\n    myranking: '',\n    achievement: null,\n    lastingDay: null\n  }),\n  mutations: {\n    SET_RANKING_LIST: (state, payload) => {\n      state.rankingList = payload;\n    },\n    SET_MY_RANKING: (state, payload) => {\n      state.myranking = payload;\n    },\n    SET_USER_IMG: (state, payload) => {\n      state.userImg = payload;\n    },\n    SET_ACHIEVEMENT: (state, payload) => {\n      state.achievement = payload;\n    },\n    SET_LASTING_DAY: (state, payload) => {\n      state.lastingDay = payload;\n    }\n  },\n  actions: {\n    getRankingList({\n      commit,\n      dispatch\n    }) {\n      axios({\n        url: 'https://i7c202.p.ssafy.io:8282/api/rankingList',\n        method: 'get'\n      }).then(res => {\n        commit('SET_RANKING_LIST', res.data.data);\n        dispatch('getLastingDay', res.data.data[0].member_id);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n\n    getMyRanking({\n      commit\n    }) {\n      let userInfo = sessionStorage.getItem('vuex');\n      userInfo = JSON.parse(userInfo); // eslint-disable-next-line\n\n      const userId = userInfo['accounts']['userInfo']['id']; // eslint-disable-next-line\n\n      const accessToken = userInfo['accounts']['accessToken'];\n      console.log(accessToken);\n      axios({\n        url: `https://i7c202.p.ssafy.io:8282/api/ranking/${userId}`,\n        method: 'get'\n      }).then(res => {\n        commit('SET_MY_RANKING', res.data.data.ranking);\n        console.log(res.data.data.ranking);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n\n    getLastingDay({\n      commit\n    }, KingID) {\n      axios({\n        url: `https://i7c202.p.ssafy.io:8282/api/record/lastingDay/${KingID}`,\n        method: 'get'\n      }).then(res => {\n        commit('SET_LASTING_DAY', res.data);\n      }).catch(err => {\n        console.log('getLastingDay_ERROR');\n        console.log(err);\n      });\n    }\n\n  },\n  getters: {\n    rankingList: state => state.rankingList,\n    myranking: state => state.myranking\n  }\n};","map":{"version":3,"names":["axios","mainpage","namespaced","state","userImg","rankingList","myranking","achievement","lastingDay","mutations","SET_RANKING_LIST","payload","SET_MY_RANKING","SET_USER_IMG","SET_ACHIEVEMENT","SET_LASTING_DAY","actions","getRankingList","commit","dispatch","url","method","then","res","data","member_id","catch","err","console","log","getMyRanking","userInfo","sessionStorage","getItem","JSON","parse","userId","accessToken","ranking","getLastingDay","KingID","getters"],"sources":["C:/Users/multicampus/Desktop/새 폴더2/S07P12C202/frontend/owo/src/store/modules/mainpage.js"],"sourcesContent":["import axios from 'axios';\n// eslint-disable-next-line\nexport const mainpage = {\r\n  namespaced: true,\n  state: () => ({\n    userImg: '',\n    rankingList: null,\n    myranking: '',\n    achievement: null,\n    lastingDay: null,\n  }),\n  mutations: {\n    SET_RANKING_LIST: (state, payload) => {\n      state.rankingList = payload;\n    },\n    SET_MY_RANKING: (state, payload) => {\n      state.myranking = payload;\n    },\n    SET_USER_IMG: (state, payload) => {\n      state.userImg = payload;\n    },\n    SET_ACHIEVEMENT: (state, payload) => {\n      state.achievement = payload;\n    },\n    SET_LASTING_DAY: (state, payload) => {\n      state.lastingDay = payload;\n    },\n  },\n  actions: {\n    getRankingList({ commit, dispatch }) {\n      axios({\n        url: 'https://i7c202.p.ssafy.io:8282/api/rankingList',\n        method: 'get',\n      })\n        .then((res) => {\n          commit('SET_RANKING_LIST', res.data.data);\n          dispatch('getLastingDay', res.data.data[0].member_id);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    getMyRanking({ commit }) {\n      let userInfo = sessionStorage.getItem('vuex');\n      userInfo = JSON.parse(userInfo);\n      // eslint-disable-next-line\n      const userId = userInfo['accounts']['userInfo']['id'];\r\n      // eslint-disable-next-line\n      const accessToken = userInfo['accounts']['accessToken'];\r\n      console.log(accessToken);\n      axios({\n        url: `https://i7c202.p.ssafy.io:8282/api/ranking/${userId}`,\n        method: 'get',\n      })\n        .then((res) => {\n          commit('SET_MY_RANKING', res.data.data.ranking);\n          console.log(res.data.data.ranking);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    getLastingDay({ commit }, KingID) {\n      axios({\n        url: `https://i7c202.p.ssafy.io:8282/api/record/lastingDay/${KingID}`,\n        method: 'get',\n      })\n        .then((res) => {\n          commit('SET_LASTING_DAY', res.data);\n        })\n        .catch((err) => {\n          console.log('getLastingDay_ERROR');\n          console.log(err);\n        });\n    },\n  },\n  getters: {\n    rankingList: (state) => state.rankingList,\n    myranking: (state) => state.myranking,\n  },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}