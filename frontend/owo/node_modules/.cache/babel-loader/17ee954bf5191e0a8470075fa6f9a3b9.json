{"ast":null,"code":"import store from './store';\nconst DEFAULTS = ['+1', 'grinning', 'kissing_heart', 'heart_eyes', 'laughing', 'stuck_out_tongue_winking_eye', 'sweat_smile', 'joy', 'scream', 'disappointed', 'unamused', 'weary', 'sob', 'sunglasses', 'heart', 'hankey'];\nlet frequently, initialized;\nlet defaults = {};\n\nfunction init() {\n  initialized = true;\n  frequently = store.get('frequently');\n}\n\nfunction add(emoji) {\n  if (!initialized) init();\n  var {\n    id\n  } = emoji;\n  frequently || (frequently = defaults);\n  frequently[id] || (frequently[id] = 0);\n  frequently[id] += 1;\n  store.set('last', id);\n  store.set('frequently', frequently);\n}\n\nfunction get(maxNumber) {\n  if (!initialized) init();\n\n  if (!frequently) {\n    defaults = {};\n    const result = [];\n    let defaultLength = Math.min(maxNumber, DEFAULTS.length);\n\n    for (let i = 0; i < defaultLength; i++) {\n      defaults[DEFAULTS[i]] = parseInt((defaultLength - i) / 4, 10) + 1;\n      result.push(DEFAULTS[i]);\n    }\n\n    return result;\n  }\n\n  const quantity = maxNumber;\n  const frequentlyKeys = [];\n\n  for (let key in frequently) {\n    if (frequently.hasOwnProperty(key)) {\n      frequentlyKeys.push(key);\n    }\n  }\n\n  const sorted = frequentlyKeys.sort((a, b) => frequently[a] - frequently[b]).reverse();\n  const sliced = sorted.slice(0, quantity);\n  const last = store.get('last');\n\n  if (last && sliced.indexOf(last) == -1) {\n    sliced.pop();\n    sliced.push(last);\n  }\n\n  return sliced;\n}\n\nexport default {\n  add,\n  get\n};","map":{"version":3,"names":["store","DEFAULTS","frequently","initialized","defaults","init","get","add","emoji","id","set","maxNumber","result","defaultLength","Math","min","length","i","parseInt","push","quantity","frequentlyKeys","key","hasOwnProperty","sorted","sort","a","b","reverse","sliced","slice","last","indexOf","pop"],"sources":["C:/Users/multicampus/Desktop/새 폴더2/S07P12C202/frontend/owo/node_modules/emoji-mart-vue-fast/src/utils/frequently.js"],"sourcesContent":["import store from './store'\n\nconst DEFAULTS = [\n  '+1',\n  'grinning',\n  'kissing_heart',\n  'heart_eyes',\n  'laughing',\n  'stuck_out_tongue_winking_eye',\n  'sweat_smile',\n  'joy',\n  'scream',\n  'disappointed',\n  'unamused',\n  'weary',\n  'sob',\n  'sunglasses',\n  'heart',\n  'hankey',\n]\n\nlet frequently, initialized\nlet defaults = {}\n\nfunction init() {\n  initialized = true\n  frequently = store.get('frequently')\n}\n\nfunction add(emoji) {\n  if (!initialized) init()\n  var { id } = emoji\n\n  frequently || (frequently = defaults)\n  frequently[id] || (frequently[id] = 0)\n  frequently[id] += 1\n\n  store.set('last', id)\n  store.set('frequently', frequently)\n}\n\nfunction get(maxNumber) {\n  if (!initialized) init()\n  if (!frequently) {\n    defaults = {}\n\n    const result = []\n\n    let defaultLength = Math.min(maxNumber, DEFAULTS.length)\n    for (let i = 0; i < defaultLength; i++) {\n      defaults[DEFAULTS[i]] = parseInt((defaultLength - i) / 4, 10) + 1\n      result.push(DEFAULTS[i])\n    }\n\n    return result\n  }\n\n  const quantity = maxNumber\n  const frequentlyKeys = []\n\n  for (let key in frequently) {\n    if (frequently.hasOwnProperty(key)) {\n      frequentlyKeys.push(key)\n    }\n  }\n\n  const sorted = frequentlyKeys\n    .sort((a, b) => frequently[a] - frequently[b])\n    .reverse()\n  const sliced = sorted.slice(0, quantity)\n\n  const last = store.get('last')\n\n  if (last && sliced.indexOf(last) == -1) {\n    sliced.pop()\n    sliced.push(last)\n  }\n\n  return sliced\n}\n\nexport default { add, get }\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,SAAlB;AAEA,MAAMC,QAAQ,GAAG,CACf,IADe,EAEf,UAFe,EAGf,eAHe,EAIf,YAJe,EAKf,UALe,EAMf,8BANe,EAOf,aAPe,EAQf,KARe,EASf,QATe,EAUf,cAVe,EAWf,UAXe,EAYf,OAZe,EAaf,KAbe,EAcf,YAde,EAef,OAfe,EAgBf,QAhBe,CAAjB;AAmBA,IAAIC,UAAJ,EAAgBC,WAAhB;AACA,IAAIC,QAAQ,GAAG,EAAf;;AAEA,SAASC,IAAT,GAAgB;EACdF,WAAW,GAAG,IAAd;EACAD,UAAU,GAAGF,KAAK,CAACM,GAAN,CAAU,YAAV,CAAb;AACD;;AAED,SAASC,GAAT,CAAaC,KAAb,EAAoB;EAClB,IAAI,CAACL,WAAL,EAAkBE,IAAI;EACtB,IAAI;IAAEI;EAAF,IAASD,KAAb;EAEAN,UAAU,KAAKA,UAAU,GAAGE,QAAlB,CAAV;EACAF,UAAU,CAACO,EAAD,CAAV,KAAmBP,UAAU,CAACO,EAAD,CAAV,GAAiB,CAApC;EACAP,UAAU,CAACO,EAAD,CAAV,IAAkB,CAAlB;EAEAT,KAAK,CAACU,GAAN,CAAU,MAAV,EAAkBD,EAAlB;EACAT,KAAK,CAACU,GAAN,CAAU,YAAV,EAAwBR,UAAxB;AACD;;AAED,SAASI,GAAT,CAAaK,SAAb,EAAwB;EACtB,IAAI,CAACR,WAAL,EAAkBE,IAAI;;EACtB,IAAI,CAACH,UAAL,EAAiB;IACfE,QAAQ,GAAG,EAAX;IAEA,MAAMQ,MAAM,GAAG,EAAf;IAEA,IAAIC,aAAa,GAAGC,IAAI,CAACC,GAAL,CAASJ,SAAT,EAAoBV,QAAQ,CAACe,MAA7B,CAApB;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,aAApB,EAAmCI,CAAC,EAApC,EAAwC;MACtCb,QAAQ,CAACH,QAAQ,CAACgB,CAAD,CAAT,CAAR,GAAwBC,QAAQ,CAAC,CAACL,aAAa,GAAGI,CAAjB,IAAsB,CAAvB,EAA0B,EAA1B,CAAR,GAAwC,CAAhE;MACAL,MAAM,CAACO,IAAP,CAAYlB,QAAQ,CAACgB,CAAD,CAApB;IACD;;IAED,OAAOL,MAAP;EACD;;EAED,MAAMQ,QAAQ,GAAGT,SAAjB;EACA,MAAMU,cAAc,GAAG,EAAvB;;EAEA,KAAK,IAAIC,GAAT,IAAgBpB,UAAhB,EAA4B;IAC1B,IAAIA,UAAU,CAACqB,cAAX,CAA0BD,GAA1B,CAAJ,EAAoC;MAClCD,cAAc,CAACF,IAAf,CAAoBG,GAApB;IACD;EACF;;EAED,MAAME,MAAM,GAAGH,cAAc,CAC1BI,IADY,CACP,CAACC,CAAD,EAAIC,CAAJ,KAAUzB,UAAU,CAACwB,CAAD,CAAV,GAAgBxB,UAAU,CAACyB,CAAD,CAD7B,EAEZC,OAFY,EAAf;EAGA,MAAMC,MAAM,GAAGL,MAAM,CAACM,KAAP,CAAa,CAAb,EAAgBV,QAAhB,CAAf;EAEA,MAAMW,IAAI,GAAG/B,KAAK,CAACM,GAAN,CAAU,MAAV,CAAb;;EAEA,IAAIyB,IAAI,IAAIF,MAAM,CAACG,OAAP,CAAeD,IAAf,KAAwB,CAAC,CAArC,EAAwC;IACtCF,MAAM,CAACI,GAAP;IACAJ,MAAM,CAACV,IAAP,CAAYY,IAAZ;EACD;;EAED,OAAOF,MAAP;AACD;;AAED,eAAe;EAAEtB,GAAF;EAAOD;AAAP,CAAf"},"metadata":{},"sourceType":"module"}